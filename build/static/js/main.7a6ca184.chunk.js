(this["webpackJsonpbloglist-frontend"]=this["webpackJsonpbloglist-frontend"]||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(12),c=n.n(a),s=n(11),o=n(156),u=n(2),l=function(){var e=Object(s.c)((function(e){return e.notification}));if(null===e)return null;var t="Wrong credentials"===e;return Object(u.jsx)("div",{style:t?{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},className:"error",children:e&&Object(u.jsx)(o.a,{severity:"success",children:e})})},d=n(20),j=n(7),f=n.n(j),b=n(9),h=n(24),p=n.n(h),v={login:function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O="/api/sites",x=null,m={getAll:function(){return p.a.get(O).then((function(e){return e.data}))},getSingle:function(e){return p.a.get("".concat(O,"/").concat(e)).then((function(e){return e.data}))},create:function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:x}},e.next=3,p.a.post(O,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(b.a)(f.a.mark((function e(t,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:x}},e.next=3,p.a.put("".concat(O,"/").concat(t),n,r);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setToken:function(e){x="bearer ".concat(e)},remove:function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:x}},e.next=3,p.a.delete("".concat(O,"/").concat(t),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return window.notificationTimeout&&window.clearTimeout(window.notificationTimeout),function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_NOTIF",data:e}),window.notificationTimeout=setTimeout((function(){n(g())}),5e3);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(){return{type:"REMOVE"}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIF":return t.data;case"REMOVE":return null;default:return e}},k=function(e){return{type:"SET_CURRENT_USER",data:e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return t.data;default:return e}},T=n(155),C=n(148),E=function(){var e=Object(s.b)(),t=Object(r.useState)(""),n=Object(d.a)(t,2),i=n[0],a=n[1],c=Object(r.useState)(""),o=Object(d.a)(c,2),l=o[0],j=o[1];return Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target.username.value,r=t.target.password.value;e(function(e,t){return function(){var n=Object(b.a)(f.a.mark((function n(r){var i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.login({username:e,password:t});case 3:i=n.sent,window.localStorage.setItem("loggedSiteappUser",JSON.stringify(i)),m.setToken(i.token),r(k(i)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r(y("Wrong credentials"));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(n,r))},style:L,children:[Object(u.jsx)("h1",{style:R,children:"Find inspiration for your next trip"}),Object(u.jsx)("h2",{style:R,children:"Discover Machu Pichu and other UNESCO heritage sites"}),Object(u.jsx)("h3",{children:"Log in"}),Object(u.jsx)("div",{children:Object(u.jsx)(T.a,{label:"username",type:"text",id:"username",value:i,name:"Username",onChange:function(e){var t=e.target;return a(t.value)}})}),Object(u.jsx)("div",{children:Object(u.jsx)(T.a,{label:"password",type:"password",id:"password",value:l,name:"Password",onChange:function(e){var t=e.target;return j(t.value)}})}),Object(u.jsx)(C.a,{variant:"contained",color:"primary",id:"login-button",type:"submit",children:"login"})]})},L={backgroundColor:"#f5f5f5",opacity:.5},R={fontFamily:"Roboto"},I=n(29),U=n(25),A=n(32),N=function(){var e={flex:1,color:"black",fontSize:24,marginLeft:"1em",marginRight:"1em",fontFamily:"Roboto",textDecoration:"none",hover:{color:"red"}};return Object(u.jsxs)("div",{style:{backgroundColor:"#4ba3c7",textAlign:"center"},children:[Object(u.jsxs)(I.b,{to:"/",style:e,children:["home ",Object(u.jsx)(U.a,{icon:A.d})]}),Object(u.jsxs)(I.b,{to:"/sites",style:e,children:["sites ",Object(u.jsx)(U.a,{icon:A.a})]}),Object(u.jsxs)(I.b,{to:"/search",style:e,children:["search   ",Object(u.jsx)(U.a,{icon:A.e})]}),Object(u.jsxs)(I.b,{to:"/about",style:e,children:["about ",Object(u.jsx)(U.a,{icon:A.f})]})]})},z=n.p+"static/media/display_pic.82e3060e.jpg",V=n(58),F=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"About Unesco go where"}),Object(u.jsx)("p",{style:_,children:"To me, travelling enriches the mind and soul. Experiencing the local culture, interacting with local people, taking in the sights, smells and sounds, is what makes travel so meaningful and rewarding. If you are a similar type of traveller, I hope you find this website useful. If you are not, I hope that this website will inspire you to embrace a different form of tourism."}),Object(u.jsx)("p",{style:_,children:"Through my travels, I have found that visiting UNESCO World Heritage Sites are the best way of understanding the host country. With more than 1100 listings, the list is extremely diverse, with something for everyone, dotted around the world. Some places are touristy, but also accessible to the average tourist. Others are REALLY off the beaten path, and requires some dedication on the part of the traveller. Whatever the case, being placed on the UNESCO list means that these sites are culturally significant and almost certainly worth a visit."}),Object(u.jsx)("h2",{children:"Future plans"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Update the design of the website"}),Object(u.jsx)("li",{children:"Update the site with the UNESCO's list of Intangible Cultural Heritage."}),Object(u.jsx)("li",{children:"Make the website responsive to other screen types such as mobile, tablet"})]}),Object(u.jsx)("p",{style:_,children:"The intangible cultural heritage list is less about places to go, but rather, about experiences and skill. For example, in Singapore, when you dine at any unremarkable hawker centre, you are already living an intangible cultural heritage. For a sensible traveller, such experiences can be invaluable."}),Object(u.jsx)("h2",{children:"About the creator"}),Object(u.jsx)("img",{src:z,height:"400px"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("a",{href:"https://github.com/fairyinabottle4",target:"_blank",children:Object(u.jsx)(U.a,{icon:V.a,size:"4x"})}),Object(u.jsx)("a",{href:"https://www.linkedin.com/in/keith-low-jun/",target:"_blank",children:Object(u.jsx)(U.a,{icon:V.b,size:"4x"})})]}),Object(u.jsx)("p",{style:_,children:"His name is Keith, currently stuck on a tiny island called Singapore, which he has not been able to leave for the past 18 months (and who knows when next). This little project of his is borne out of severe cabin fever amid taking online web development courses and his studies in computer science at the National University of Singapore. He loves travelling solo, having first done so with his savings during National Service at the age of 19. Then, he toured the United States alone for 2 weeks (actually just New York City and Washington DC) and realised later what a life-changing moment that had been for him."}),Object(u.jsx)("p",{style:_,children:"The above image was taken in December 2018, in Venice (a UNESCO World Heritage site!). That was his last trip abroad. He longs for the day when we can all travel freely once again."})]})},_={fontSize:"20px",fontFamily:"Roboto"},W=n(18),D=n(33),P=function(e,t){return function(){var n=Object(b.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:"TOGGLE_STATUS",data:{id:e,newSite:t}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"DELETE_SITE",data:{id:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_STATUS":var n=t.data.id,r=t.data.newSite;return e.map((function(e){return e.id!==n?e:r}));case"NEW_SITE":return[].concat(Object(D.a)(e),[t.data]).sort((function(e,t){return e.votes-t.votes}));case"INIT_SITES":return t.data;case"DELETE_SITE":return e.filter((function(e){return e.id!==t.data.id}));case"ADD_COMMENT":var i=t.data.id,a=t.data.changedSite;return e.map((function(e){return e.id!==i?e:a}));default:return e}},G="api/users",Y={getAll:function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(G);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(G,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){return function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.getAll();case 2:n=e.sent,t({type:"INIT_USERS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return t.data;default:return e}},X=function(e){var t=Object(s.b)(),n=e.user,r=e.likedPlace,i=r.parent.userLiked.find((function(e){return e.username===n.username})),a=r.parent,c=a.userLiked.indexOf(i),o=e.id,l=function(){var e=Object(b.a)(f.a.mark((function e(n,r){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.update(n,r);case 3:i=e.sent,t(P(n,i)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(y("Could not update site"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(b.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.remove(n);case 3:204===e.sent.status?(t(M(n)),t(B()),t(y("Site removed from liked list"))):t(y("could not remove")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(y("Could not remove"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(f.a.mark((function e(){var t,i,s,u,j,b,h;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Remove site ".concat(r.title,"?"))){e.next=14;break}return e.next=3,m.getSingle(a.id);case 3:t=e.sent,i=t.userVisited.find((function(e){return e.username===n.username})),s=i.visited,u=t.userVisited.indexOf(i),j={username:n.username,visited:s},b={username:n.username,liked:!1},a.userLiked[c]=b,t.userVisited[u]=j,h=Object(W.a)(Object(W.a)({},a),{},{userLiked:a.userLiked,userVisited:t.userVisited}),l(a.id,h),d(o);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{style:q,children:[Object(u.jsx)("p",{style:K,children:r.title}),Object(u.jsx)(C.a,{onClick:j,size:"small",variant:"contained",color:"secondary",children:"remove from likes"})]})},q={borderTop:"2px solid",overflowX:"hidden",overflowY:"auto"},K={flexWrap:"wrap",wordBreak:"break-word",fontFamily:"Roboto"},Q=function(e){var t=Object(s.b)(),n=e.user,r=e.visitedPlace,i=e.id,a=r.parent.userVisited.find((function(e){return e.username===n.username})),c=r.parent,o=c.userVisited.indexOf(a),l=function(){var e=Object(b.a)(f.a.mark((function e(n,r){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.update(n,r);case 3:i=e.sent,t(P(n,i)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(y("Could not update site"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(b.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.remove(n);case 3:204===e.sent.status?(t(M(n)),t(B()),t(y("Site removed from visited list"))):t(y("could not remove")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(y(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,s,u,j,b,h;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Remove site ".concat(r.title,"?"))){e.next=14;break}return e.next=3,m.getSingle(c.id);case 3:t=e.sent,a=t.userLiked.find((function(e){return e.username===n.username})),s=a.liked,u=t.userLiked.indexOf(a),j={username:n.username,visited:!1},b={username:n.username,liked:s},t.userLiked[u]=b,c.userVisited[o]=j,h=Object(W.a)(Object(W.a)({},c),{},{userLiked:t.userLiked,userVisited:c.userVisited}),l(c.id,h),d(i);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{style:Z,children:[Object(u.jsx)("p",{style:$,children:r.title}),Object(u.jsx)(C.a,{onClick:j,size:"small",variant:"contained",color:"secondary",children:"remove from visited"})]})},Z={borderTop:"2px solid",borderLeft:"2px solid",overflowX:"hidden",overflowY:"auto"},$={fontFamily:"Roboto"},ee=function(e){var t,n,r,i,a=e.user,c=Object(s.c)((function(e){return e.users})),o=null===c||void 0===c||null===(t=c.jsonUser)||void 0===t?void 0:t.find((function(e){return e.username===a.username})),l=null===c||void 0===c||null===(n=c.jsonVisited)||void 0===n?void 0:n.find((function(e){return e.username===a.username})),d=null!==(r=null===o||void 0===o?void 0:o.liked)&&void 0!==r?r:[],j=null!==(i=null===l||void 0===l?void 0:l.visited)&&void 0!==i?i:[];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{style:re,children:"Where would you like to go today?"}),Object(u.jsxs)("div",{style:se,children:[Object(u.jsxs)("p",{style:oe,children:["You have liked ",null===d||void 0===d?void 0:d.length," / 1144 places"]}),0===d.length?Object(u.jsx)("p",{style:ue,children:"There's something for everyone here!"}):d.length<10?Object(u.jsx)("p",{style:ue,children:" Have you planned your next trip?"}):Object(u.jsx)("p",{style:ue,children:"Woah explorer! Take it easy!"})]}),Object(u.jsxs)("div",{style:se,children:[Object(u.jsxs)("p",{style:oe,children:["You have visited ",null===j||void 0===j?void 0:j.length," / 1144 places"]}),0===j.length?Object(u.jsx)("p",{style:ue,children:"A great journey begins with a single step!"}):j.length<500?Object(u.jsx)("p",{style:ue,children:"Making good progress, traveller!"}):Object(u.jsx)("p",{style:ue,children:"You could write a book now!"})]}),Object(u.jsxs)("div",{style:te,children:[Object(u.jsxs)("div",{style:ne,children:[Object(u.jsx)("div",{children:Object(u.jsxs)("h2",{style:ae,children:["Places I like ",Object(u.jsx)(U.a,{icon:A.c})]})}),null===d||void 0===d?void 0:d.map((function(e){return Object(u.jsx)(X,{id:e.id,likedPlace:e,user:a})}))]}),Object(u.jsxs)("div",{style:ie,children:[Object(u.jsxs)("h2",{style:ce,children:["Places I visited ",Object(u.jsx)(U.a,{icon:A.b})]}),null===j||void 0===j?void 0:j.map((function(e){return Object(u.jsx)(Q,{id:e.id,visitedPlace:e,user:a})}))]})]})]})},te={display:"flex",border:"4px solid"},ne={backgroundColor:"#ffc4ff",flexGrow:1},re={fontFamily:"Roboto"},ie={backgroundColor:"#66ffa6",flexGrow:1},ae={backgroundColor:"#ce93d8",fontFamily:"Roboto",textAlign:"center"},ce={textAlign:"center",backgroundColor:"#00e676",fontFamily:"Roboto"},se={display:"flex"},oe={marginRight:"10em",fontFamily:"Roboto"},ue={fontFamily:"Roboto"},le=n(150),de=n(147),je=n(151),fe=n(152),be=n(153),he=i.a.forwardRef((function(e,t){var n=Object(r.useState)(!1),i=Object(d.a)(n,2),a=i[0],c=i[1],s={display:a?"none":""},o={display:a?"":"none"},l=function(){c(!a)};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{style:s,children:Object(u.jsx)(C.a,{size:"small",variant:"contained",color:"primary",onClick:l,children:e.buttonLabel})}),Object(u.jsxs)("div",{style:o,children:[e.children,Object(u.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",onClick:l,children:"view"===e.buttonLabel?"hide":"hide ".concat(e.title)})]})]})}));he.displayName="Togglable";var pe=he,ve=n(157),Oe=i.a.forwardRef((function(e,t){var n,i=Object(s.b)(),a=null===(n=e.site)||void 0===n?void 0:n.userLiked.find((function(t){return(null===t||void 0===t?void 0:t.username)===e.user.username}));Object(r.useEffect)((function(){if(!a){var t={username:e.user.username,liked:!1},n=e.site.userLiked.concat(t),r=Object(W.a)(Object(W.a)({},e.site),{},{userLiked:n});e.updateSite(e.site.id,r)}}),[]);var c=Object(r.useState)(null===a||void 0===a?void 0:a.liked),o=Object(d.a)(c,2),l=o[0],j=o[1],h=function(){var t=Object(b.a)(f.a.mark((function t(){var n,r,c,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.site.userLiked.indexOf(a),r={username:null===a||void 0===a?void 0:a.username,liked:!(null===a||void 0===a?void 0:a.liked)},e.site.userLiked[n]=r,c=Object(W.a)(Object(W.a)({},e.site),{},{userLiked:e.site.userLiked}),e.updateSite(e.site.id,c),s=Object(W.a)(Object(W.a)({},e.site),{},{parent:c,opcode:100}),t.next=8,m.create(s);case 8:t.sent,i(B()),j(!l);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.jsx)(C.a,{size:"small",variant:"contained",color:l?"secondary":"primary",onClick:l?null:h,className:"site-like",children:l?"Already Liked":"like"})})),xe=function(e){var t=e.site,n=e.user,i=e.updateSite,a=t.userVisited.find((function(e){return e.username===n.username})),c=Object(s.b)();Object(r.useEffect)((function(){if(!a){var e={username:n.username,visited:!1},r=t.userVisited.concat(e),c=Object(W.a)(Object(W.a)({},t),{},{userVisited:r});i(t.id,c)}}),[]);var o=Object(r.useState)(null===a||void 0===a?void 0:a.visited),l=Object(d.a)(o,2),j=l[0],h=l[1],p=function(){var e=Object(b.a)(f.a.mark((function e(){var n,r,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userVisited.indexOf(a),r={username:null===a||void 0===a?void 0:a.username,visited:!a.visited},t.userVisited[n]=r,s=Object(W.a)(Object(W.a)({},t),{},{userVisited:t.userVisited}),i(t.id,s),o=Object(W.a)(Object(W.a)({},t),{},{parent:s,opcode:200}),e.next=8,m.create(o);case 8:e.sent,c(B()),h(!j);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(C.a,{size:"small",variant:"contained",color:j?"secondary":"primary",onClick:j?null:p,className:"site-like",children:j?"Already Visited!":"Visit"})},me=function(e){var t=e.site,n=e.user,r=Object(s.b)(),i=function(){var e=Object(b.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.update(t,n);case 3:e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),r(y("Could not update site"));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"site-details",children:[Object(u.jsx)(ve.a,{href:t.url,children:t.url}),Object(u.jsxs)("h2",{children:[Object(u.jsx)(Oe,{user:n,site:t,updateSite:i}),Object(u.jsx)(xe,{user:n,site:t,updateSite:i})]}),Object(u.jsx)("h3",{children:"Description"}),Object(u.jsx)("p",{children:t.description}),Object(u.jsx)("img",{src:t.imageUrl,alt:"Image could not be loaded"})]})},ye=n(149),ge=i.a.forwardRef((function(e,t){var n,i=Object(r.useRef)();return e.search||(n=t.concat(i)),Object(u.jsx)("div",{style:we,children:Object(u.jsxs)(ye.a,{style:ke,children:[Object(u.jsxs)("p",{style:Se,children:[e.site.title," "]}),Object(u.jsx)(pe,{buttonLabel:"view site",level:"detail",ref:i,title:e.site.title,children:Object(u.jsx)(me,{site:e.site,user:e.user,ref:e.search?null:n},e.site.id)})]})})})),we={border:"2px solid"},ke={},Se={fontSize:"20px"},Te=function(e){var t=e.user,n=Object(r.useState)(""),i=Object(d.a)(n,2),a=i[0],c=i[1],o=Object(s.c)((function(e){return e.sites})).filter((function(e){return null===e.parent})),l=0===a.length?o:o.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase())||e.country.toLowerCase().includes(a.toLowerCase())}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{style:Ce,children:"Search from the entire list"}),Object(u.jsx)(T.a,{id:"filled-search",label:"Search for a UNESCO World Heritage Site!",type:"search",variant:"outlined",onChange:function(e){c(e.target.value)},style:{marginTop:"5%",width:"100%"},InputProps:{style:{color:"red"}},value:a}),0===a.length?null:Object(u.jsx)(le.a,{component:de.a,children:Object(u.jsx)(je.a,{children:Object(u.jsx)(fe.a,{children:l.map((function(e){return Object(u.jsx)(be.a,{children:Object(u.jsx)(ge,{site:e,user:t,search:!0})},e.id)}))})})})]})},Ce={marginTop:"2em",fontFamily:"Roboto"},Ee=n.p+"static/media/machu_pichu.e76a61ea.jpg",Le=n(16),Re=n(154),Ie=i.a.forwardRef((function(e,t){var n=Object(r.useState)(!1),i=Object(d.a)(n,2),a=i[0],c=i[1],s={display:a?"none":""},o={display:a?"":"none"},l=function(){c(!a)};return Object(u.jsxs)("div",{style:Ae,children:[Object(u.jsxs)("div",{style:o,children:[e.children,Object(u.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",onClick:l,children:e.buttonLabel==="view ".concat(e.region)?"hide ".concat(e.region):"cancel"})]}),Object(u.jsx)("div",{style:s,children:Object(u.jsx)(C.a,{size:"small",variant:"contained",color:"primary",onClick:l,children:e.buttonLabel})})]})}));Ie.displayName="Togglable";var Ue=Ie,Ae={backgroundColor:"#f5f5f5"},Ne=i.a.forwardRef((function(e,t){var n=Object(r.useState)(!1),i=Object(d.a)(n,2),a=i[0],c=i[1],s={display:a?"none":""},o={display:a?"":"none"},l=function(){c(!a)};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{style:s,children:Object(u.jsx)(C.a,{size:"small",variant:"contained",color:"primary",onClick:l,children:e.buttonLabel})}),Object(u.jsxs)("div",{style:o,children:[e.children,Object(u.jsx)(C.a,{size:"small",variant:"contained",color:"secondary",onClick:l,children:e.buttonLabel==="view ".concat(e.country)?"hide ".concat(e.country):"cancel"})]})]})}));Ne.displayName="Togglable";var ze=Ne,Ve=i.a.forwardRef((function(e,t){var n=Object(r.useRef)(),i=[t,n];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{style:Fe,children:e.country}),Object(u.jsx)(ze,{buttonLabel:"view ".concat(e.country),level:"country",ref:n,country:e.country,children:e.sites.map((function(t){return Object(u.jsx)(ge,{site:t,user:e.user,ref:i})}))})]})})),Fe={fontFamily:"Roboto",backgroundColor:"#f5f5f5"},_e=function(e){var t=e.user,n=function(e,t){return e.country<t.country?-1:e.country>t.country?1:0},i=Object(s.c)((function(e){return e.sites})).filter((function(e){return null===e.parent})),a=i.filter((function(e){return"Asia-Pacific"===e.region})).sort((function(e,t){return n(e,t)})),c=i.filter((function(e){return"Europe"===e.region})).sort((function(e,t){return n(e,t)})),o=i.filter((function(e){return"Africa"===e.region})).sort((function(e,t){return n(e,t)})),l=i.filter((function(e){return"Middle East & Central Asia"===e.region})).sort((function(e,t){return n(e,t)})),d=i.filter((function(e){return"Americas"===e.region})).sort((function(e,t){return n(e,t)})),j=Object(r.useRef)(),f=function(){var e=a.map((function(e){return e.country})),n=Object(D.a)(new Set(e));return console.log(n),Object(u.jsx)("div",{children:n.map((function(e){var n=a.filter((function(t){return t.country===e}));return console.log(n),Object(u.jsx)(Ve,{sites:n,user:t,country:e})}))})},b=function(){var e=c.map((function(e){return e.country})),n=Object(D.a)(new Set(e));return Object(u.jsx)("div",{children:n.map((function(e){var n=c.filter((function(t){return t.country===e}));return console.log(n),Object(u.jsx)(Ve,{sites:n,user:t,country:e})}))})},h=function(){var e=o.map((function(e){return e.country})),n=Object(D.a)(new Set(e));return Object(u.jsx)("div",{children:n.map((function(e){var n=o.filter((function(t){return t.country===e}));return console.log(n),Object(u.jsx)(Ve,{sites:n,user:t,country:e})}))})},p=function(){var e=l.map((function(e){return e.country})),n=Object(D.a)(new Set(e));return Object(u.jsx)("div",{children:n.map((function(e){var n=l.filter((function(t){return t.country===e}));return console.log(n),Object(u.jsx)(Ve,{sites:n,user:t,country:e})}))})},v=function(){var e=d.map((function(e){return e.country})),n=Object(D.a)(new Set(e));return Object(u.jsx)("div",{children:n.map((function(e){var n=d.filter((function(t){return t.country===e}));return console.log(n),Object(u.jsx)(Ve,{sites:n,user:t,country:e})}))})};return Object(u.jsxs)("div",{style:We,children:[Object(u.jsx)("h1",{style:De,children:"Asia-Pacific"}),Object(u.jsx)(Ue,{buttonLabel:"view asia-pacific",ref:j,style:Pe,region:"asia-pacific",children:Object(u.jsx)(f,{})}),Object(u.jsx)("h1",{style:De,children:"Europe"}),Object(u.jsx)(Ue,{buttonLabel:"view europe",ref:j,style:Pe,region:"europe",children:Object(u.jsx)(b,{})}),Object(u.jsx)("h1",{style:De,children:"Africa"}),Object(u.jsx)(Ue,{buttonLabel:"view africa",ref:j,style:Pe,region:"africa",children:Object(u.jsx)(h,{})}),Object(u.jsx)("h1",{style:De,children:"Middle East & Central Asia"}),Object(u.jsx)(Ue,{buttonLabel:"view middle east & central asia",ref:j,style:Pe,region:"middle east & central asia",children:Object(u.jsx)(p,{})}),Object(u.jsx)("h1",{style:De,children:"Americas"}),Object(u.jsx)(Ue,{buttonLabel:"view americas",ref:j,style:Pe,region:"americas",children:Object(u.jsx)(v,{})})]})},We={backgroundColor:"#c2c2c2"},De={backgroundColor:"#c2c2c2",fontFamily:"Roboto"},Pe={},Me={containerWithImage:{height:1356,backgroundColor:"#f5f5f5",backgroundImage:"url(".concat(Ee,")"),backgroundSize:"cover"},container:{height:1356,backgroundColor:"#f5f5f5",backgroundSize:"cover"}},He={display:"flex",backgroundColor:"#81d4fa"},Ge={color:"black",flexGrow:1,fontSize:"24px",fontFamily:"Roboto"},Ye={paddingTop:"1em",fontFamily:"Roboto"},Be={backgroundColor:"#81d4fa",fontFamily:"Roboto",height:"50%",marginTop:"2em",textAlign:"center",color:"blue"},Je=function(){var e=Object(s.c)((function(e){return e.currUser})),t=Object(s.c)((function(e){return e.notification})),n=Object(s.b)();Object(r.useEffect)((function(){n(function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getAll();case 2:n=e.sent,t({type:"INIT_SITES",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(r.useEffect)((function(){n(B())}),[n]),Object(r.useEffect)((function(){var e=window.localStorage.getItem("loggedSiteappUser");if(e){var t=JSON.parse(e);n(k(t)),m.setToken(t.token)}}),[]);return Object(u.jsx)(I.a,{children:Object(u.jsx)(Re.a,{style:null===e?Me.containerWithImage:Me.container,maxWidth:null===e?"xl":"lg",children:Object(u.jsxs)("div",{children:[""!==t?Object(u.jsx)(l,{}):null,null===e?Object(u.jsx)(E,{}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{style:He,children:[Object(u.jsx)("h2",{style:Ge,children:"Unesco go where?"}),Object(u.jsxs)("p",{style:Ye,children:[e.name," logged in"]}),Object(u.jsx)("button",{onClick:function(){return window.localStorage.removeItem("loggedSiteappUser"),window.localStorage.clear(),n(k(null)),Object(u.jsx)(E,{})},style:Be,children:"logout"})]}),Object(u.jsx)(N,{}),Object(u.jsxs)(Le.c,{children:[Object(u.jsx)(Le.a,{path:"/sites",children:Object(u.jsx)(_e,{user:e})}),Object(u.jsx)(Le.a,{path:"/about",children:Object(u.jsx)(F,{})}),Object(u.jsx)(Le.a,{path:"/search",children:Object(u.jsx)(Te,{user:e})}),Object(u.jsx)(Le.a,{path:"/",children:Object(u.jsx)(ee,{user:e})})]})]})]})})})},Xe=n(45),qe=n(74),Ke=n(75),Qe=Object(Xe.combineReducers)({sites:H,notification:w,currUser:S,users:J}),Ze=Object(Xe.createStore)(Qe,Object(Ke.composeWithDevTools)(Object(Xe.applyMiddleware)(qe.a)));c.a.render(Object(u.jsx)(s.a,{store:Ze,children:Object(u.jsx)(I.a,{children:Object(u.jsx)(Je,{})})}),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.7a6ca184.chunk.js.map